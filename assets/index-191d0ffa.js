(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEVHcEz/zJkAAADMZjPM//9ERET///+IiIiZZjNVVVUiIiLISct7AAAAAXRSTlMAQObYZgAAAOFJREFUKM9dkTFOBDEMRa1IK2qnoY3tWUSd3GDkA8BuQY/QHACJC+wlaPeoxONMsuF3fvH3dxKAQx/wT98J7hMIGXhukSSpFz98BsmSe7uUwlKu5c2qU+0uTbsnpFBmkGUCFy5DNiPUWYV5x55ihox4kTYC9pHviJHbpvUkM2ElXp/cYRqOCpixWXxE3DbettQBvXzp+qm/Bp6uBpZFV3VQU7LQorqyHlMpUlQlPF6MichSjlwA8jWog+AkjkduLXF8EvLD7uZBJ/EBoF24Az9m7im3Wj+fxye+3qYICLzLiz8xFC79tohZtgAAAABJRU5ErkJggg==",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAJFBMVEVHcEyZmcwAAABmZpn//5lERETMzP8zMzMiIiKIiIj/zGZ3d3eF/txmAAAAAXRSTlMAQObYZgAAAPVJREFUKM9dkb1qwzAUhY3AQ8YrU+hoXUui0KkReYFwoe3WGDp0bIr9BAbNgVI0JnmMPGUUO/qpznY+jo6urqrKi1WFRFsAdixAXSbqdXmkQ5X7lf7pTE4URzAm9TC4yWzSFDNoYvFqB0vk49+Jx0PT5oD/7ZtNAhz1txGhpEbU4x6NCCVsHIdeUrcOJfqM6otoGwAbJJEk58HSqnt6+13A0qpxBtQJiMAXXJyCAM6S3p1zcXg2Dp9P7gC9gvsGENUJHpDsLnsNl692EmkD+Gwt2QxU0zQn0odZn0DghrcxsfVeNC+BMBTe+0kEj3u+eeAA92uSrg1dNRD0/3I/AAAAAElFTkSuQmCC",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAANlBMVEVHcEzM//9mMwCZMzOZzMxERESIiIj/zMwAAADu7u4iIiKZZjPMmTNVVVX///93d3eZZma7u7taiWzOAAAAAXRSTlMAQObYZgAAARdJREFUOMt1ktmiwyAIRDUKjk3T3v7/z17AJaahPEXnZNgM4RZM0KDghQpHsWBiRxVhb/qzFKwiXVT52J/i4f9bNjXYVwvEyIaoujVCA1OnGJG1wGawWY4VEIKy+dAEJAVNACRFdp8yY/Z52CUiswALMTIcMhnmYolW4OzBTmqheh7tnGNSzcqH6XoiuoyxyUbY79IEn/qHhlz+Sup72K4Jii2YjUh91ucaPjI/OdFL3dPYBZxNv3gSjq6XYmKEZxDUX0xgFkCF89i0N2soFdTqvMg+jdQAuC+2yZqiPn4QIidZuQA/PMCsC1XAJZCJ8gAcgnSduvAG8PtmUNUfw+FmgUfl9iY68GUBLT0v+pdF6+0KrAT8CP/SchFhDMeaEQAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAATlBMVEVHcExEREQAMzNVVVWZ/5lVAABmmWZmzJkAAAAzZjOIiIjM//8zM5nMzJl3d3cAZmaqqqrMzP+ZZjPMmWaZ//+ZmZm7u7v////MzMzM/8wzULwgAAAAAXRSTlMAQObYZgAAANZJREFUOMu1k8kOwyAMREOAeMjaffn/H+0ASaWmBqmHckPvjc0iN81f181aW8GA7Z2vYONcmQPPOneGXPyjyLlE/FzhIFcbLEvbtjEuxkMV7pEzP3tRhZRngYOXkpDykXea0Of+Qi6dUS8gePNeeb8Uz/yrAIAAZ+3GscchkAsFnYeBvHdSyg8XGiwwF/MUIr+SG55mz0MYWCBz7hTO0Hr/tNvzVJLGyj8FTLkjpgkr3wnYxPMpNoqC9gnjERRyR+UTKNDIrXQejXGbh+q08cz1cQR+HeAXzpIKeCujsw4AAAAASUVORK5CYII=";class d{constructor(e,i,s,t=!1,n=!1,a=!1,o=0){this.x=e,this.y=i,this.size=s,this.cellNumber=o,this.cellContainer=document.createElement("div"),this.mine=n,this.open=t,this.flagged=a,n&&this.setMine(),t&&this.setOpen(),a&&this.setFlagged(),this.cellNumberColorsLight={1:"#3f4041",2:"#893998",3:"#f77410",4:"#225354",5:"#3c3c25",6:"#c01b0a",7:"#fa95a9",8:"#937408"},this.cellNumberColorsDark={1:"#aeaeae",2:"#815dff",3:"#f77f00",4:"#4c8781",5:"#848953",6:"#b44d3c",7:"#ff4d80",8:"#e6b800"},this.cellNumberColor="",o>0&&this.setNumber(o)}setMine(){this.mine=!0,this.setNumber(-1)}setOpen(){if(this.open=!0,this.isMined()&&!this.isFlagged()){this.cellContainer.classList.add("mine");return}if(this.isMined()&&this.isFlagged()){this.cellContainer.classList.add("success");return}if(this.cellNumber>0&&!this.isFlagged()){this.cellContainer.innerText=this.cellNumber,this.cellContainer.classList.add("open");return}if(this.cellNumber>0&&this.isFlagged()){this.cellContainer.classList.add("open","fail");return}this.cellNumber===0&&this.cellContainer.classList.add("open")}setFlagged(){this.flagged=!0,this.cellContainer.classList.add("flagged")}setTheme(e="Light"){this.cellNumber<0||(e==="Light"&&(this.cellNumberColor=this.cellNumberColorsLight[this.cellNumber]),e==="Dark"&&(this.cellNumberColor=this.cellNumberColorsDark[this.cellNumber]),this.cellContainer.style.color=this.cellNumberColor)}removeFlagged(){this.flagged=!1,this.cellContainer.classList.remove("flagged")}isFlagged(){return this.flagged}isOpened(){return this.open}isMined(){return this.mine}setNumber(e,i="Light"){this.cellNumber=e,this.setTheme(i)}getNumber(){return this.cellNumber}getCell(){return this.cellContainer.dataset.x=this.x,this.cellContainer.dataset.y=this.y,this.cellContainer.classList.add("cell"),this.cellContainer.classList.add(this.size),this.cellContainer.style.aspectRatio="1 / 1",this.cellContainer}}class C{constructor(e,i,s,t){this.rows=e,this.cols=i,this.minesCnt=s,this.flagCounter=0,this.openedCellsCnt=0,this.flaggedCells=[],this.moves=0,this.gameInstance=t,this.theme=this.getSettings().theme,this.SURROUND_CELLS=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],this.cellSize="large",this.field=Array.from({length:this.rows},()=>new Array(this.cols)),this.gameContainer=document.createElement("div"),document.body.appendChild(this.gameContainer)}getCell(e,i){return this.field[e][i]}calcCellNumber(e,i){let s=0;this.SURROUND_CELLS.forEach(([t,n])=>{const a=e+t,o=i+n;((r,h)=>r>=0&&h>=0&&r<this.rows&&h<this.cols)(a,o)&&this.getCell(a,o).isMined()&&(s+=1)}),this.getCell(e,i).setNumber(s,this.theme)}openCell(e){e.setOpen(),this.gameInstance.getSoundController().playOpenCellEffect(),this.openedCellsCnt+=1}openNeighbors(e,i){this.SURROUND_CELLS.forEach(([s,t])=>{const n=s+Number(e),a=t+Number(i);if(((l,r)=>l>=0&&r>=0&&l<this.rows&&r<this.cols)(n,a)){const l=this.getCell(n,a);!l.isOpened()&&!l.isMined()&&!l.isFlagged()&&(this.openCell(l),l.cellNumber===0&&this.openNeighbors(n,a))}})}handleEndGame(){clearInterval(this.timerLink)}handleGameOver(){this.handleEndGame(),this.field.map(i=>i.map(s=>this.openCell(s))),this.gameover=!0,this.statusText.textContent="Game over. Try again",this.writeHighScore(`Lose, ${this.rows}x${this.cols}, ${this.minesCnt} mines in ${this.timer} seconds and ${this.moves} moves`),this.gameInstance.getSoundController().playLose()}changeFlagCounter(e){this.flagCounter+=e,this.renderFlags()}increaseMoves(){this.moves+=1,this.renderMoves()}getHighScore(){this.highScores=JSON.parse(localStorage.getItem("tolive-minesweeper-highscores"))||[];const e=this.highScores.slice(-10).reduce((s,t,n)=>`${s}<br/>${n+1}. ${t}<br>`,""),i=this.highscoresPopup.querySelector("#highscores");i.innerHTML=e}writeHighScore(e){this.getHighScore(),this.highScores.push(e),localStorage.setItem("tolive-minesweeper-highscores",JSON.stringify(this.highScores))}checkWinGame(){return this.openedCellsCnt+this.minesCnt===this.rows*this.cols?(this.handleEndGame(),this.statusText.textContent=`Hooray! You found all mines in ${this.timer} seconds and ${this.moves} moves!`,this.writeHighScore(`Win, ${this.rows}x${this.cols}, ${this.minesCnt} mines in ${this.timer} seconds and ${this.moves} moves`),this.gameInstance.getSoundController().playWin(),this.gameover=!0,!0):!1}handleCellClick(e){if(this.gameover)return;const{x:i,y:s}=e.target.dataset,t=this.getCell(i,s);if(this.openedCellsCnt===0&&(this.gameInstance.getSoundController().playMusic(),this.setMines(t)),!(t.isFlagged()||t.isOpened())){if(this.openCell(t),this.increaseMoves(),t.cellNumber===0&&this.openNeighbors(i,s),t.isMined()){this.handleGameOver();return}this.checkWinGame()}}handleCellRightClick(e){if(e.preventDefault(),this.gameover)return;const{x:i,y:s}=e.target.dataset,t=this.getCell(Number(i),Number(s));if(!t.isOpened()&&!t.isFlagged()){t.setFlagged(),this.flaggedCells.push(t),this.changeFlagCounter(1),this.gameInstance.getSoundController().playFlagEffect(),this.checkWinGame();return}t.isFlagged()&&(t.removeFlagged(),this.flaggedCells=this.flaggedCells.filter(a=>!(a.x===Number(i)&&a.y===Number(s))),this.changeFlagCounter(-1),this.gameInstance.getSoundController().playFlagEffect(),this.checkWinGame())}renderField(e){this.fieldContainer=document.createElement("div"),this.fieldContainer.classList.add("field");for(let i=0;i<this.cols;i+=1){const s=document.createElement("div");s.classList.add("row"),s.dataset.y=i;for(let t=0;t<this.rows;t+=1){let n;if(!e)n=new d(t,i,this.cellSize);else{const{x:a,y:o,opened:l,mined:r,flagged:h,num:u}=e[t][i];n=new d(a,o,this.cellSize,l,r,h,u),h&&this.flaggedCells.push(n)}n.getCell().addEventListener("click",a=>this.handleCellClick(a)),n.getCell().addEventListener("contextmenu",a=>this.handleCellRightClick(a),!1),this.field[t][i]=n,s.appendChild(n.getCell())}this.fieldContainer.appendChild(s)}this.gameContainer.appendChild(this.fieldContainer),this.startClock(this.timer)}renderMoves(){document.getElementById("moves").textContent=this.moves.toString().padStart(3,"0")}renderFlags(){document.getElementById("flags").textContent=this.flagCounter.toString().padStart(3,"0");const e=this.minesCnt-this.flagCounter;document.getElementById("mines").textContent=(e>=0?e:0).toString().padStart(3,"0")}startClock(e=0){this.timer=e;const i=()=>{this.timer+=1;const s=this.timer.toString().padStart(3,"0");document.getElementById("seconds").textContent=s};this.timerLink=setInterval(i,1e3)}renderControls(){this.gameControl=document.createElement("div"),this.gameControl.classList.add("control");const e=`<div class="clock">
            <img class="clock-img" src="${f}" />
            <div class="digit-block">            
            <span id="seconds" class="digit">000</span>
            <span class="char-text">Time</span>
            </div> 
        </div>`,i=`<div class="clock">
            <img class="clock-img" src="${p}" /> 
            <div class="digit-block">
                <span id="moves" class="digit">000</span>
                <span class="char-text">Moves</span>
            </div>               
            
        </div>`,s=`<div class="clock">            
            <img class="clock-img" src="${m}" />
            <div class="digit-block">    
            <span id="flags" class="digit">000</span>
            <span class="char-text">Flags</span>
            </div> 
        </div>`,t=`<div class="clock">
            <img class="clock-img" src="${g}" />
            <div class="digit-block">    
            <span id="mines" class="digit">${this.minesCnt.toString().padStart(3,"0")}</span>
            <span class="char-text">Mines</span>
            </div> 
        </div>`,n=`<div class="switch-container"><span id="switch-text">${this.theme}</span>
        <label class="switch"><input id="theme-switch" type="checkbox" ${this.theme==="Dark"?"checked":""} />
        <div></div>
        </label>
        </div>`;this.gameControl.insertAdjacentHTML("afterBegin",n),this.gameControl.insertAdjacentHTML("afterBegin",i),this.gameControl.insertAdjacentHTML("afterBegin",t),this.gameControl.insertAdjacentHTML("afterBegin",s),this.gameControl.insertAdjacentHTML("afterBegin",e),this.gameControl.querySelector("#theme-switch").addEventListener("click",()=>this.handleThemeSwitch()),this.gameContainer.appendChild(this.gameControl)}setLightTheme(){const e=document.querySelector("#switch-text");document.documentElement.classList.remove("dark"),e.textContent="Light",e.classList.remove("dark"),this.field.forEach(i=>{i.forEach(s=>{s.getCell().classList.remove("dark"),s.setTheme("Light")})}),document.querySelectorAll(".game-button").forEach(i=>i.classList.remove("dark")),this.gameStatus.classList.remove("dark"),this.gameControl.classList.remove("dark"),this.statusText.classList.remove("dark")}setDarkTheme(){const e=document.querySelector("#switch-text");document.documentElement.classList.add("dark"),e.textContent="Dark",e.classList.add("dark"),this.field.forEach(i=>{i.forEach(s=>{s.getCell().classList.add("dark"),s.setTheme("Dark")})}),document.querySelectorAll(".game-button").forEach(i=>i.classList.add("dark")),this.gameStatus.classList.add("dark"),this.gameControl.classList.add("dark"),this.statusText.classList.add("dark"),this.saveSettings()}handleThemeSwitch(){if(this.theme==="Light"){this.theme="Dark",this.setDarkTheme();return}this.theme==="Dark"&&(this.theme="Light",this.setLightTheme(),this.saveSettings())}saveSettings(){const e={theme:this.theme,music:this.gameInstance.getSoundController().getSettings().music,sfx:this.gameInstance.getSoundController().getSettings().sfx};localStorage.setItem("tolive-minesweeper-settings",JSON.stringify(e))}getSettings(){const e={theme:"Light",music:!0,sfx:!0};return this.savedSettings=JSON.parse(localStorage.getItem("tolive-minesweeper-settings")),this.savedSettings?{...e,...this.savedSettings}:e}renderGameStatus(){this.gameStatus=document.createElement("div"),this.gameStatus.classList.add("status"),this.statusText=document.createElement("span"),this.statusText.classList.add("status-text"),this.gameStatus.appendChild(this.statusText),this.gameContainer.appendChild(this.gameStatus)}renderNewGamePopup(){this.newGamePopup=document.createElement("div"),this.newGamePopup.className="new-game-popup hide",this.newGamePopup.innerHTML=`
            <div class="popup-content">
                <fieldset>
                <legend>Select game difficulty:</legend>
            
                <div>
                <input type="radio" id="easy" name="game" value="easy"
                        checked>
                <label for="easy">Easy, 10x10</label>
                </div>
            
                <div>
                <input type="radio" id="medium" name="game" value="medium">
                <label for="medium">Medium, 15x15</label>
                </div>
            
                <div>
                <input type="radio" id="hard" name="game" value="hard">
                <label for="hard">Hard, 25x25</label>
                </div>
            </fieldset>
            <div class="slidecontainer">
            <input type="range" min="10" max="99" value="10" class="slider" id="mines-cnt">
            <label id="slider-label" for="minesCnt">Mines count: 10</label>
            </div>
                <button id="start-game">Start game</button>
                <button id="close-popup">Close</button>
            </div>`;const e=this.newGamePopup.querySelector("#mines-cnt"),i=this.newGamePopup.querySelector("#slider-label");e.addEventListener("change",o=>{i.textContent=`Mines count: ${o.target.value}`}),this.highscoresPopup=document.createElement("div"),this.highscoresPopup.className="highscores-popup hide",this.highscoresPopup.innerHTML=`
            <div class="popup-content">
            <div id="highscores"></div>
            <button id="close-highscores-popup">Close</button>
            </div>`,this.highscoresPopup.querySelector("#close-highscores-popup").addEventListener("click",()=>{this.highscoresPopup.classList.add("hide"),this.highscoresPopup.classList.remove("show")});const t={easy:{rows:10,cols:10},medium:{rows:15,cols:15},hard:{rows:25,cols:25}};this.newGamePopup.querySelector("#start-game").addEventListener("click",()=>{const o=document.querySelector('input[name="game"]:checked').value,{rows:l,cols:r}=t[o];this.restartGame(l,r,Number(e.value)),this.newGamePopup.classList.add("hide"),this.newGamePopup.classList.remove("show")}),this.newGamePopup.querySelector("#close-popup").addEventListener("click",()=>{this.newGamePopup.classList.add("hide"),this.newGamePopup.classList.remove("show")}),this.gameContainer.appendChild(this.newGamePopup),this.gameContainer.appendChild(this.highscoresPopup)}renderButtons(){this.buttonsContainer=document.createElement("div"),this.buttonsContainer.classList.add("buttons"),this.newGameButton=document.createElement("button"),this.newGameButton.classList.add("new-game","game-button"),this.newGameButton.textContent="New Game",this.newGameButton.addEventListener("click",()=>{this.newGamePopup.classList.add("show")}),this.highscoresButton=document.createElement("button"),this.highscoresButton.classList.add("highscores","game-button"),this.highscoresButton.textContent="Highscores",this.highscoresButton.addEventListener("click",()=>{this.getHighScore(),this.highscoresPopup.classList.add("show")}),this.saveGameButton=document.createElement("button"),this.saveGameButton.classList.add("save-game","game-button"),this.saveGameButton.textContent="Save Game",this.saveGameButton.addEventListener("click",()=>{this.saveGame()}),this.loadGameButton=document.createElement("button"),this.loadGameButton.classList.add("load-game","game-button"),this.loadGameButton.textContent="Load Game",this.loadGameButton.addEventListener("click",()=>{this.loadGame()}),this.musicButton=document.createElement("button"),this.musicButton.classList.add("music-switch","game-button"),this.musicButton.textContent=`Music ${this.getSettings().music?"on":"off"}`,this.musicButton.addEventListener("click",()=>{const{music:e}=this.getSettings();if(e){this.gameInstance.getSoundController().disableMusic(),this.musicButton.textContent="Music off",this.saveSettings();return}this.gameInstance.getSoundController().enableMusic(),this.musicButton.textContent="Music on",this.saveSettings()}),this.sfxButton=document.createElement("button"),this.sfxButton.classList.add("sfx-switch","game-button"),this.sfxButton.textContent=`Sfx ${this.getSettings().sfx?"on":"off"}`,this.sfxButton.addEventListener("click",()=>{const{sfx:e}=this.getSettings();if(e){this.gameInstance.getSoundController().disableSfx(),this.sfxButton.textContent="Sfx off",this.saveSettings();return}this.gameInstance.getSoundController().enableSfx(),this.sfxButton.textContent="Sfx on",this.saveSettings()}),this.buttonsContainer.appendChild(this.newGameButton),this.buttonsContainer.appendChild(this.highscoresButton),this.buttonsContainer.appendChild(this.saveGameButton),this.buttonsContainer.appendChild(this.loadGameButton),this.buttonsContainer.appendChild(this.musicButton),this.buttonsContainer.appendChild(this.sfxButton),this.gameContainer.appendChild(this.buttonsContainer)}setMines(e){this.minesSetup=[];const i=[];for(let s=0;s<this.cols;s+=1)for(let t=0;t<this.rows;t+=1){const n=`${s}-${t}`;`${e.x}-${e.y}`!==n&&i.push(n)}for(let s=0;s<this.minesCnt;s+=1){const t=Math.floor(Math.random()*(this.rows*this.cols-s-1)),n=i[t];i.splice(t,1),this.minesSetup.push(n);const[a,o]=n.split("-");this.getCell(a,o).setMine()}for(let s=0;s<this.cols;s+=1)for(let t=0;t<this.rows;t+=1)this.field[t][s].isMined()||this.calcCellNumber(t,s)}saveGame(){const e={rows:this.rows,cols:this.cols,timer:this.timer,moves:this.moves,mines:this.minesCnt,minesSetup:this.minesSetup,field:[]};this.field.forEach(i=>{const s=[];i.forEach(t=>{s.push({x:t.x,y:t.y,opened:t.isOpened(),mined:t.isMined(),flagged:t.isFlagged(),num:t.getNumber()})}),e.field.push(s)}),localStorage.setItem("tolive_minesweeper_save",JSON.stringify(e))}loadGame(){const{rows:e,cols:i,timer:s,moves:t,minesSetup:n,field:a}=JSON.parse(localStorage.getItem("tolive_minesweeper_save"));this.restartGame(e,i,n.length,s,t,a)}restartGame(e=10,i=10,s=10,t=0,n=0,a=[]){switch(clearInterval(this.timerLink),this.statusText.textContent="",this.flagCounter=0,this.openedCellsCnt=0,a.forEach(r=>{r.forEach(h=>{h.flagged&&(this.flagCounter+=1),h.opened&&(this.openedCellsCnt+=1)})}),this.gameover=!1,this.flaggedCells=[],this.moves=n,this.timer=t,this.fieldContainer.remove(),e){case 10:this.cellSize="large";break;case 15:this.cellSize="medium";break;case 25:this.cellSize="small";break}this.rows=e,this.cols=i,this.minesCnt=s,this.field=Array.from({length:this.rows},()=>new Array(this.cols)),this.renderField(a.length>0?a:null),this.renderMoves(),this.renderFlags(),this.theme==="Light"?this.setLightTheme():this.setDarkTheme();const{music:o,sfx:l}=this.getSettings();o?this.gameInstance.getSoundController().enableMusic():this.gameInstance.getSoundController().disableMusic(),l?this.gameInstance.getSoundController().enableSfx():this.gameInstance.getSoundController().disableSfx(),this.gameInstance.getSoundController().playMusic()}init(){this.renderControls(),this.renderGameStatus(),this.renderButtons(),this.renderNewGamePopup(),this.renderField(),this.theme==="Light"?this.setLightTheme():this.setDarkTheme();const{music:e,sfx:i}=this.getSettings();e?this.gameInstance.getSoundController().enableMusic(!1):this.gameInstance.getSoundController().disableMusic(),i?this.gameInstance.getSoundController().enableSfx():this.gameInstance.getSoundController().disableSfx()}}const A="/assets/futurama-background-4388213d.ogg",S="/assets/open-cell-769213e2.wav",b="/assets/win-ba214aaf.mp3",v="/assets/lose-b59c3e49.mp3",E="/assets/flag-d038ce2a.wav";class x{constructor(e=!0,i=!0){this.isSfxEnabled=i,this.isMusicEnabled=e,this.audioContainer=document.createElement("div");const{body:s}=document;this.backgroundMusic=document.createElement("audio"),this.backgroundMusic.src=A,this.backgroundMusic.volume=.3,this.backgroundMusic.loop=!0,this.audioContainer.appendChild(this.backgroundMusic),s.appendChild(this.audioContainer),this.openCellEffect=document.createElement("audio"),this.openCellEffect.src=S,this.openCellEffect.volume=.2,this.audioContainer.appendChild(this.openCellEffect),s.appendChild(this.audioContainer),this.flagEffect=document.createElement("audio"),this.flagEffect.src=E,this.flagEffect.volume=.2,this.audioContainer.appendChild(this.flagEffect),s.appendChild(this.audioContainer),this.winEffect=document.createElement("audio"),this.winEffect.src=b,this.audioContainer.appendChild(this.winEffect),s.appendChild(this.audioContainer),this.loseEffect=document.createElement("audio"),this.loseEffect.src=v,this.audioContainer.appendChild(this.loseEffect),s.appendChild(this.audioContainer)}getSettings(){return{sfx:this.isSfxEnabled,music:this.isMusicEnabled}}playOpenCellEffect(){this.isSfxEnabled&&(this.flagEffect.currentTime=0,this.openCellEffect.play())}playFlagEffect(){this.isSfxEnabled&&(this.flagEffect.currentTime=0,this.flagEffect.play())}stopMusic(){this.backgroundMusic.pause()}playMusic(){this.isMusicEnabled&&this.backgroundMusic.play()}playWin(){this.isSfxEnabled&&this.winEffect.play()}playLose(){this.isSfxEnabled&&this.loseEffect.play()}disableMusic(){this.isMusicEnabled=!1,this.stopMusic()}enableMusic(e=!0){this.isMusicEnabled=!0,e&&this.playMusic()}disableSfx(){this.isSfxEnabled=!1}enableSfx(){this.isSfxEnabled=!0}}class M{constructor(){this.field=new C(10,10,10,this),this.soundController=new x}getSoundController(){return this.soundController}init(){this.field.init()}}const w=()=>{new M().init()};w();
